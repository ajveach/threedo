
;!function(){var t=function(){this.utility={},this.version="0.0.1";var t={};Object.defineProperty(this,"$container",{get:function(){if(!t.primary){var e=$("#threedo,[data-threedoType='container']");e.each(function(){var e=$(this),i=e.attr("data-threedoName");if(!i&&t.primary)throw"A name was not provided for the threedo container";i&&(t[i]=e),t.primary||(t.primary=e)})}return t}}),this.init=function(t,e){this.scene=new this.Scene(t),"function"==typeof e&&e()}};window.threedo=new t}();
;!function(){var e=[],n=function(n){if("function"==typeof n){var t=e.push(n);return t}threedo.scene.width($(window).width()),threedo.scene.height($(window).height());for(var t=0;t<e.length;t+=1)e[t]()};threedo.onResize=n}();
;!function(){var e={},t=(new Date).getTime(),d=function(){var d=(new Date).getTime();threedo.update.delta=(d-t)/1e3,threedo.update.time=Math.round(1e3*(threedo.update.time+threedo.update.delta))/1e3,t=d;for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&e[a]()};d.add=function(t,d){e[t]=d},d.remove=function(t){delete e[t]},d.deltaTime=0,d.time=0,threedo.update=d}();
;!function(){var e,n=function(n){n?(e?e.$e.show():e=threedo.UI.text({text:"Loading...","class":"threedo-UI-Loading",name:"loading"}),e.$e.children("span").css("line-height",threedo.scene.$container.height()+"px")):e.$e.hide()};threedo.loading=n}();
;!function(){threedo.Model=function(){},threedo.Model.prototype={constructor:threedo.Model}}();
;!function(){var t={text:{},select:{}},o=function(o,e){if(t[o]&&t[o][e])return t[o][e];if("object"==typeof o){var i=o;return t[i.type][i.name]=i,i}return!1};o.onResize=function(){$.each(t,function(t,o){$.each(o,function(t,o){o.position()})})},o.position=function(){console.log(this)},o.New=function(t,o){if("object"!=typeof o)return!1;if(!o.name)return!1;var e=o.position||{top:0,right:null,left:0,bottom:null};o.class=o.class||"";var i={name:o.name,type:t,"class":o.class};return i.position=function(){return"number"==typeof i.position.left?i.$e.css("left",i.position.left):"number"==typeof i.position.right&&i.$e.css("left",threedo.scene.renderers.primary.width-i.position.right),"number"==typeof i.position.top?i.$e.css("top",i.position.top):"number"==typeof i.position.bottom&&i.$e.css("top",threedo.scene.renderers.primary.height()-i.position.bottom),i},i.position.left=e.left,i.position.right=e.right,i.position.top=e.top,i.position.bottom=e.bottom,i},threedo.UI=o,threedo.onResize(o.onResize)}();
;!function(){threedo.Renderer=function(e){var e=e||{};e.name=e.name||"primary",threedo.Model.call(this,e);var t=e.renderType||"WebGLRenderer";Object.defineProperty(this,"renderType",{get:function(){return t}});var r=e.$container||threedo.$container.primary;Object.defineProperty(this,"$container",{get:function(){return r},set:function(e){r=e}});var n=e.scene||threedo.scene;Object.defineProperty(this,"scene",{get:function(){return n},set:function(e){n=e}});var o=e.camera||threedo.scene.find("mainCamera");Object.defineProperty(this,"camera",{get:function(){return o},set:function(e){o=e}});var i=e.width||r.width();Object.defineProperty(this,"width",{get:function(){return i},set:function(e){i=e,o.aspectRatio=i/c,s.setSize(i,c)}});var c=e.height||r.height();Object.defineProperty(this,"height",{get:function(){return c},set:function(e){c=e,o.aspectRatio=i/c,s.setSize(i,c)}});var a=e.backgroundColor||new THREE.Color(.2,0,.2);Object.defineProperty(this,"backgroundColor",{get:function(){return a},set:function(e){a=e,s.setClearColor(a,d)}});var d=e.backgroundAlpha||1;Object.defineProperty(this,"backgroundAlpha",{get:function(){return d},set:function(e){d=e,s.setClearColor(a,d)}}),this.render=function(){s.render(n.scene,o.camera)};var s=new THREE[t];o.aspectRatio=i/c,s.setSize(i,c),s.setClearColor(a,d),r.html(s.domElement),this.type="Renderer"},threedo.Renderer.prototype=Object.create(threedo.Model.prototype),threedo.Renderer.constructor=threedo.Renderer}();
;!function(){threedo.Scene=function(e){if(threedo.Model.call(this),!e.name)throw"A valid name was not provided to create this scene";var t=e.name;Object.defineProperty(this,"name",{get:function(){return t},set:function(e){t=e}});var n=45;Object.defineProperty(this,"viewAngle",{get:function(){return n},set:function(e){n=e}});var r=.1;Object.defineProperty(this,"near",{get:function(){return r},set:function(e){r=e}});var i=1e3;Object.defineProperty(this,"far",{get:function(){return i},set:function(e){i=e}});var a={};Object.defineProperty(this,"renderers",{get:function(){return a}}),Object.defineProperty(this,"renderer",{get:function(){return a.primary}});var o=new THREE.Scene;Object.defineProperty(this,"scene",{get:function(){return o},set:function(e){o=e}});var c;Object.defineProperty(this,"backgroundColor",{get:function(){return c},set:function(e){c=e}});var s;Object.defineProperty(this,"backgroundAlpha",{get:function(){return s},set:function(e){s=e}});var d={};Object.defineProperty(this,"skybox",{get:function(){return d},set:function(e){d.materials=[];for(var t=0;t<e.length;++t)d.materials.push(new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture(e[t]),side:THREE.BackSide}));d.mesh||(d.mesh=new THREE.Mesh(new THREE.BoxGeometry(i,i,i),new THREE.MeshFaceMaterial(d.materials)),o.add(d.mesh))}});var u=e.$container||threedo.$container.primary;Object.defineProperty(this,"$container",{get:function(){return u},set:function(e){u=e}});var f={};Object.defineProperty(this,"nodes",{get:function(){return f}}),this.add=function(e){if(!f[e.name]){f[e.name]=e;var t=e.container||e.Mesh||e.Object3D||e.light;return o.add(t),e}throw'A node already exists in this scene named "'+e.name+'"'},this.find=function(e){return f[e]||null},this.update=function(){for(var e in f)f.hasOwnProperty(e)&&"function"==typeof f[e].update&&f[e].update()};var h=function(){requestAnimationFrame(h),stats.begin(),threedo.update(),threedo.scene&&threedo.scene.update();for(var e in a)a.hasOwnProperty(e)&&a[e].render(o,a[e].camera.camera);stats.end()};this.type="Scene";var p=this.add(new threedo.Camera({name:"mainCamera",near:r,far:i}));a.primary=new threedo.Renderer({name:"primary",camera:p,scene:this}),h()},threedo.Scene.prototype=Object.create(threedo.Model.prototype),threedo.Scene.prototype.constructor=threedo.Scene}();
;!function(){threedo.Node=function(e){if(threedo.Model.call(this),!e)throw"A valid name was not provided to create this node";this.type="Node";var t=e;Object.defineProperty(this,"name",{get:function(){return t},set:function(e){t=e}});var o=null;Object.defineProperty(this,"Space",{get:function(){return o},set:function(e){o=e}})},threedo.Node.prototype=Object.create(threedo.Model.prototype),threedo.Node.prototype.constructor=threedo.Node}();
;!function(){threedo.Node3D=function(t){if(threedo.Node.call(this,t.name),!t.noObject3D){var e;Object.defineProperty(this,"Object3D",{get:function(){return e},set:function(t){e=t}})}Object.defineProperty(this,"position",{get:function(){return e?e.position:this.Mesh?this.Mesh.position:this.container?this.container.position:void 0},set:function(t){e?e.position.set(t.x,t.y,t.z):this.Mesh?this.Mesh.position.set(t.x,t.y,t.z):this.container&&this.container.position.set(t.x,t.y,t.z)}}),this.type="Node3D"},threedo.Node3D.prototype=Object.create(threedo.Node.prototype),threedo.Node3D.constructor=threedo.Node3D}();
;!function(){threedo.Camera=function(e){var e=e||{};e.name=e.name||"mainCamera",e.noObject3D=!0,threedo.Node3D.call(this,e);var t=e.aspectRatio;Object.defineProperty(this,"aspectRatio",{get:function(){return t},set:function(e){t=e,this._camera&&(this._camera.aspect=t,this._camera.updateProjectionMatrix())}});var r=new THREE.Object3D;Object.defineProperty(this,"container",{get:function(){return r}});var a=new THREE.PerspectiveCamera(e.viewAngle||45,e.aspectRatio||4/3,e.near||threedo.scene.near,e.far||threedo.scene.far);r.add(a),Object.defineProperty(this,"camera",{get:function(){return a}});var o=e.position||new THREE.Vector3(0,0,0);r.position.set(o.x,o.y,o.z),this.type="Camera"},threedo.Camera.prototype=Object.create(threedo.Node3D.prototype),threedo.Camera.constructor=threedo.Camera}();
;!function(){threedo.Light=function(t){var t=t||{};t.noObject3D=!0,threedo.Node3D.call(this,t);var e=t.color||16777215,o=new THREE.PointLight(e);Object.defineProperty(this,"light",{get:function(){return o}});var i=t.position||[0,0,0];o.position.x=i[0],o.position.y=i[1],o.position.z=i[2],threedo.scene.add(this),this.type="Light"},threedo.Light.prototype=Object.create(threedo.Node3D.prototype),threedo.Light.constructor=threedo.Light}();
;!function(){threedo.Mesh=function(t){var t=t||{};t.noObject3D=!0,threedo.Node3D.call(this,t);var e=null;Object.defineProperty(this,"Mesh",{get:function(){return e},set:function(t){e instanceof THREE.Mesh&&threedo.scene.remove(e),e=t,threedo.scene.add(this)}}),t.Mesh instanceof THREE.Mesh&&(this.Mesh=t.Mesh),t.rotation instanceof THREE.Euler&&(this.Mesh.rotation.x=t.rotation.x,this.Mesh.rotation.y=t.rotation.y,this.Mesh.rotation.z=t.rotation.z),t.position instanceof THREE.Vector3&&(this.Mesh.position.x=t.position.x,this.Mesh.position.y=t.position.y,this.Mesh.position.z=t.position.z),this.type="Mesh"},threedo.Mesh.prototype=Object.create(threedo.Node3D.prototype),threedo.Mesh.constructor=threedo.Mesh}();
;!function(){threedo.Cube=function(e){var e=e||{},t=e.scale||new THREE.Vector3(1,1,1),o=e.segments||[1,1,1],r=new THREE.BoxGeometry(t.x,t.y,t.z,o[0],o[1],o[2]),h=e.color||16777215,c=e.material||null;c||(c=new THREE.MeshLambertMaterial({color:h})),e.Mesh=new THREE.Mesh(r,c),threedo.Mesh.call(this,e),this.type="Cube"},threedo.Cube.prototype=Object.create(threedo.Mesh.prototype),threedo.Cube.constructor=threedo.Cube}();
;!function(){threedo.Sphere=function(e){var e=e||{},t=e.radius||1,r=e.segments||[8,6],h=e.phi||[0,2*Math.PI],o=e.theta||[0,Math.PI],a=new THREE.SphereGeometry(t,r[0],r[1],h[0],h[1],o[0],o[1]),p=e.color||16777215,s=e.material||null;s||(s=new THREE.MeshLambertMaterial({color:p})),e.Mesh=new THREE.Mesh(a,s),threedo.Mesh.call(this,e),this.type="Sphere"},threedo.Sphere.prototype=Object.create(threedo.Mesh.prototype),threedo.Sphere.constructor=threedo.Sphere}();
;
;!function(){var e=function(e){var o=threedo.UI.New("select",e);o.add=function(e,o,n){var t=$("<div />").addClass("option").attr("data-value",o).html(e).appendTo(this.$e.children(".options")),n=n||{};return t.on(n),this},o.expand=function(){o.$e.children(".options").show()},o.collapse=function(){o.$e.children(".options").hide()},e.options=e.options||[],o.$e=$("<div />").addClass("threedo-UI threedo-UI-select "+e.class).attr("data-name",e.name).prependTo(threedo.scene.$container),o.position();var n=$("<div />").addClass("label").html(e.text).appendTo(o.$e);$("<div />").addClass("arrow-down").prependTo(n),$("<div />").addClass("options").appendTo(o.$e);for(var t=0;t<e.options.length;t+=1)o.$e.children(".options").append("<div class='option' data-value='"+e.options[t].value+"'>"+e.options[t].name+"</div>");return o.$e.children(".label").click(function(){o.$e.children(".options").toggle()}),o.$e.hover(function(){o.$e.addClass("hover")},function(){o.collapse(),o.$e.removeClass("hover")}),threedo.UI(o),o};threedo.UI.select=e}();
;!function(){var e=function(e){var t=threedo.UI.New("text",e);return e.text?(t.$e=$("<div />").addClass("threedo-UI threedo-UI-text "+e.class).html("<span>"+e.text+"</span>").attr("data-name",e.name).prependTo(threedo.scene.renderers.primary.$container),t.position(),threedo.UI(t),t):console.log('A "text" option must be provided for a text UI element')};threedo.UI.text=e}();
//# sourceMappingURL=threedo.min.js.map