
;!function(){var t=function(){this.utility={},this.version="0.0.1";var t=function(){var t=$("#threedo,[data-threedoType='container']");t.each(function(){var t=$(this),r=t.attr("data-threedoName");if(!r&&e.primary)throw"A name was not provided for the threedo container";r&&(e[r]=t),e.primary||(e.primary=t),t.attr("data-threedoType","container")})},e={};Object.defineProperty(this,"$container",{get:function(){return e.primary||t(),e.primary}}),Object.defineProperty(this,"$containers",{get:function(){return e.primary||t(),e}}),this.init=function(t,e){this.scene=new this.Scene(t),"function"==typeof e&&e()}};window.threedo=new t}();
;!function(){var e=[],n=function(n){if("function"==typeof n){var t=e.push(n);return t}threedo.scene.width($(window).width()),threedo.scene.height($(window).height());for(var t=0;t<e.length;t+=1)e[t]()};threedo.onResize=n}();
;!function(){var e={},t=(new Date).getTime(),d=function(){var d=(new Date).getTime();threedo.update.delta=(d-t)/1e3,threedo.update.time=Math.round(1e3*(threedo.update.time+threedo.update.delta))/1e3,t=d;for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&e[a]()};d.add=function(t,d){e[t]=d},d.remove=function(t){delete e[t]},d.deltaTime=0,d.time=0,threedo.update=d}();
;!function(){var e,n=function(n){n?(e?e.$e.show():e=threedo.UI.text({text:"Loading...","class":"threedo-UI-Loading",name:"loading"}),e.$e.children("span").css("line-height",threedo.scene.$container.height()+"px")):e.$e.hide()};threedo.loading=n}();
;!function(){threedo.Model=function(){},threedo.Model.prototype={constructor:threedo.Model}}();
;!function(){threedo.Renderer=function(e){var e=e||{};threedo.Model.call(this,e);var t=e.renderType||"WebGLRenderer";Object.defineProperty(this,"renderType",{get:function(){return t}});var r=e.$container||threedo.$container;Object.defineProperty(this,"$container",{get:function(){return r},set:function(e){r=e}});var n=e.scene||threedo.scene;Object.defineProperty(this,"scene",{get:function(){return n},set:function(e){n=e}});var o=e.camera||threedo.scene.find("mainCamera");Object.defineProperty(this,"camera",{get:function(){return o},set:function(e){o=e}});var i=e.width||r.width();Object.defineProperty(this,"width",{get:function(){return i},set:function(e){i=e,o.aspectRatio=i/c,h.setSize(i,c)}});var c=e.height||r.height();Object.defineProperty(this,"height",{get:function(){return c},set:function(e){c=e,o.aspectRatio=i/c,h.setSize(i,c)}});var a=e.backgroundColor||new THREE.Color(.2,0,.2);Object.defineProperty(this,"backgroundColor",{get:function(){return a},set:function(e){a=e,h.setClearColor(a,d)}});var d=e.backgroundAlpha||1;Object.defineProperty(this,"backgroundAlpha",{get:function(){return d},set:function(e){d=e,h.setClearColor(a,d)}}),this.render=function(){h.render(n.scene,o.Camera)},this.updateDimensions=function(){var e=r.width(),t=r.height();e!==i&&(this.width=e),e!==c&&(this.height=t)};var h=new THREE[t];o.aspectRatio=i/c,h.setSize(i,c),h.setClearColor(a,d),r.html(h.domElement),this.type="Renderer"},threedo.Renderer.prototype=Object.create(threedo.Model.prototype),threedo.Renderer.constructor=threedo.Renderer}();
;!function(){threedo.Scene=function(e){if(threedo.Model.call(this),!e.name)throw"A valid name was not provided to create this scene";var t=e.name;Object.defineProperty(this,"name",{get:function(){return t},set:function(e){t=e}});var n=45;Object.defineProperty(this,"viewAngle",{get:function(){return n},set:function(e){n=e}});var r=.1;Object.defineProperty(this,"near",{get:function(){return r},set:function(e){r=e}});var i=1e3;Object.defineProperty(this,"far",{get:function(){return i},set:function(e){i=e}});var a={};Object.defineProperty(this,"renderer",{get:function(){return a},set:function(e){a=e}});var o=new THREE.Scene;Object.defineProperty(this,"scene",{get:function(){return o},set:function(e){o=e}});var d;Object.defineProperty(this,"backgroundColor",{get:function(){return d},set:function(e){d=e}});var s;Object.defineProperty(this,"backgroundAlpha",{get:function(){return s},set:function(e){s=e}});var c={};Object.defineProperty(this,"skybox",{get:function(){return c},set:function(e){c.materials=[];for(var t=0;t<e.length;++t)c.materials.push(new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture(e[t]),side:THREE.BackSide}));c.mesh||(c.mesh=new THREE.Mesh(new THREE.BoxGeometry(i,i,i),new THREE.MeshFaceMaterial(c.materials)),o.add(c.mesh))}});var u=e.$container||threedo.$container;Object.defineProperty(this,"$container",{get:function(){return u},set:function(e){u=e}});var f={};Object.defineProperty(this,"nodes",{get:function(){return f}}),this.add=function(e){if(!f[e.name]){f[e.name]=e;var t=e.Camera||e.Mesh||e.Object3D||e.Light||null;return t&&o.add(t),e}throw'A node already exists in this scene named "'+e.name+'"'},this.find=function(e){return f[e]||null};var h={},m={};this.update=function(){for(var e in h)h.hasOwnProperty(e)&&h[e].active&&h[e].update()},this.update.add=function(e){if(h[e.name])throw'A node named "'+e.name+"\" already exists in this scene's update queue";h[e.name]=e},this.update.remove=function(e){"string"==typeof e&&h[e]?delete h[e]:e instanceof threedo.Node&&h[e.name]&&delete h[e.name]},this.fixedUpdate=function(){a.updateDimensions();for(var e in m)m.hasOwnProperty(e)&&m[e].active&&m[e].fixedUpdate();l=threedo.update.time},this.fixedUpdate.add=function(e){if(m[e.name])throw'A node named "'+e.name+"\" already exists in this scene's update queue";m[e.name]=e},this.fixedUpdate.remove=function(e){"string"==typeof e&&m[e]?delete m[e]:e instanceof threedo.Node&&m[e.name]&&delete m[e.name]};var p=.1,l=-p,v=function(){if(requestAnimationFrame(v),stats.begin(),threedo.update(),threedo.scene){threedo.scene.update();var e=threedo.update.time-l>=p?!0:!1;e&&threedo.scene.fixedUpdate()}a.render(),stats.end()};this.type="Scene";var y=new threedo.Camera({name:"mainCamera",near:r,far:i,scene:this});a=new threedo.Renderer({camera:y,scene:this}),v()},threedo.Scene.prototype=Object.create(threedo.Model.prototype),threedo.Scene.prototype.constructor=threedo.Scene}();
;!function(){threedo.Node=function(e){if(threedo.Model.call(this),!e)throw"A valid name was not provided to create this node";this.type="Node";var t=e;Object.defineProperty(this,"name",{get:function(){return t},set:function(e){t=e}});var o=!0;Object.defineProperty(this,"active",{get:function(){return o},set:function(e){o=e}});var n=null;Object.defineProperty(this,"update",{get:function(){return n},set:function(e){if(e){if("function"!=typeof e)throw'The value provided for this node\'s "update" method must be a function';n=e,threedo.scene.update.add(this)}else threedo.scene.update.remove(this),n=null}});var d=null;Object.defineProperty(this,"fixedUpdate",{get:function(){return d},set:function(e){if(e){if("function"!=typeof e)throw'The value provided for this node\'s "fixedUpdate" method must be a function';d=e,threedo.scene.fixedUpdate.add(this)}else threedo.scene.fixedUpdate.remove(this),d=null}})},threedo.Node.prototype=Object.create(threedo.Model.prototype),threedo.Node.prototype.constructor=threedo.Node}();
;!function(){threedo.UI=function(t){var t=t||{};threedo.Node.call(this,t.name);var e=!1;Object.defineProperty(this,"persist",{get:function(){return e},set:function(t){if("boolean"!=typeof t)throw"This UI object's persist property must be of type boolean";e=t}}),this.persist=t.persist||!1;var o="global";Object.defineProperty(this,"context",{get:function(){return o},set:function(t){if(t){if(!("global"===t||t instanceof jQuery))throw'This UI object must be provided a jQuery container or "global" string as context';o=t}else o="global"}}),this.context=t.context||"global";var r=$("<div />").addClass("threedo-UI").attr("data-name",this.name);Object.defineProperty(this,"$",{get:function(){return r}});var n="";Object.defineProperty(this,"class",{get:function(){return n},set:function(t){n=t,this.$.removeClass().addClass("threedo-UI "+(this.typeSpecificClass?this.typeSpecificClass:"")+" "+n)}}),"string"==typeof t.class&&(this.class=t.class);var s={top:0,right:null,bottom:null,left:0};Object.defineProperty(this,"position",{get:function(){return s},set:function(t){if("object"!=typeof t)throw"This UI object must be provided a position as an array or object";"[object Array]"===Object.prototype.toString.call(t)?(s.top="number"==typeof t[0]?t[0]:null,s.right="number"==typeof t[1]?t[1]:null,s.bottom="number"==typeof t[2]?t[2]:null,s.left="number"==typeof t[3]?t[3]:null):(s.top="number"==typeof t.top?t.top:null,s.right="number"==typeof t.right?t.right:null,s.bottom="number"==typeof t.bottom?t.bottom:null,s.left="number"==typeof t.left?t.left:null),null===s.top&&null===s.bottom&&(s.top=0),null===s.left&&null===s.right&&(s.left=0),this.position.refresh()}}),this.position.refresh=function(){"number"==typeof s.left?r.css("left",s.left):"number"==typeof s.right&&r.css("left",threedo.scene.renderer.width-s.right),"number"==typeof s.top?r.css("top",s.top):"number"==typeof s.bottom&&r.css("top",threedo.scene.renderer.height-s.bottom)},this.position=t.position||[],threedo.scene.add(this),this.type="UI"},threedo.UI.prototype=Object.create(threedo.Node.prototype),threedo.UI.prototype.constructor=threedo.UI}();
;!function(){threedo.Node3D=function(t){if(threedo.Node.call(this,t.name),!t.noObject3D){var e;Object.defineProperty(this,"Object3D",{get:function(){return e},set:function(t){e=t}})}Object.defineProperty(this,"position",{get:function(){return e?e.position:this.Mesh?this.Mesh.position:this.Camera?this.Camera.position:void 0},set:function(t){e?e.position.set(t.x,t.y,t.z):this.Mesh?this.Mesh.position.set(t.x,t.y,t.z):this.Camera&&this.Camera.position.set(t.x,t.y,t.z)}}),this.type="Node3D"},threedo.Node3D.prototype=Object.create(threedo.Node.prototype),threedo.Node3D.constructor=threedo.Node3D}();
;!function(){threedo.Camera=function(e){var e=e||{};e.name=e.name||"mainCamera",e.noObject3D=!0,threedo.Node3D.call(this,e);var t=e.aspectRatio;Object.defineProperty(this,"aspectRatio",{get:function(){return t},set:function(e){t=e,r&&(r.aspect=t,r.updateProjectionMatrix())}});var r=new THREE.PerspectiveCamera(e.viewAngle||45,e.aspectRatio||4/3,e.near||threedo.scene.near,e.far||threedo.scene.far);Object.defineProperty(this,"Camera",{get:function(){return r}}),e.scene?e.scene.add(this):threedo.scene.add(this);var a=e.position||new THREE.Vector3(0,0,0);r.position.set(a.x,a.y,a.z),this.type="Camera"},threedo.Camera.prototype=Object.create(threedo.Node3D.prototype),threedo.Camera.constructor=threedo.Camera}();
;!function(){threedo.Light=function(t){var t=t||{};t.noObject3D=!0,threedo.Node3D.call(this,t);var e=t.color||16777215,o=new THREE.PointLight(e);Object.defineProperty(this,"Light",{get:function(){return o}});var i=t.position||[0,0,0];o.position.x=i[0],o.position.y=i[1],o.position.z=i[2],threedo.scene.add(this),this.type="Light"},threedo.Light.prototype=Object.create(threedo.Node3D.prototype),threedo.Light.constructor=threedo.Light}();
;!function(){threedo.Mesh=function(t){var t=t||{};t.noObject3D=!0,threedo.Node3D.call(this,t);var e=null;Object.defineProperty(this,"Mesh",{get:function(){return e},set:function(t){e instanceof THREE.Mesh&&threedo.scene.remove(e),e=t,threedo.scene.add(this)}}),t.Mesh instanceof THREE.Mesh&&(this.Mesh=t.Mesh),t.rotation instanceof THREE.Euler&&(this.Mesh.rotation.x=t.rotation.x,this.Mesh.rotation.y=t.rotation.y,this.Mesh.rotation.z=t.rotation.z),t.position instanceof THREE.Vector3&&(this.Mesh.position.x=t.position.x,this.Mesh.position.y=t.position.y,this.Mesh.position.z=t.position.z),this.type="Mesh"},threedo.Mesh.prototype=Object.create(threedo.Node3D.prototype),threedo.Mesh.constructor=threedo.Mesh}();
;!function(){threedo.Cube=function(e){var e=e||{},t=e.scale||new THREE.Vector3(1,1,1),o=e.segments||[1,1,1],r=new THREE.BoxGeometry(t.x,t.y,t.z,o[0],o[1],o[2]),h=e.color||16777215,c=e.material||null;c||(c=new THREE.MeshLambertMaterial({color:h})),e.Mesh=new THREE.Mesh(r,c),threedo.Mesh.call(this,e),this.type="Cube"},threedo.Cube.prototype=Object.create(threedo.Mesh.prototype),threedo.Cube.constructor=threedo.Cube}();
;!function(){threedo.Sphere=function(e){var e=e||{},t=e.radius||1,r=e.segments||[8,6],h=e.phi||[0,2*Math.PI],o=e.theta||[0,Math.PI],a=new THREE.SphereGeometry(t,r[0],r[1],h[0],h[1],o[0],o[1]),p=e.color||16777215,s=e.material||null;s||(s=new THREE.MeshLambertMaterial({color:p})),e.Mesh=new THREE.Mesh(a,s),threedo.Mesh.call(this,e),this.type="Sphere"},threedo.Sphere.prototype=Object.create(threedo.Mesh.prototype),threedo.Sphere.constructor=threedo.Sphere}();
;!function(){threedo.UI.text=function(t){if(this.typeSpecificClass="threedo-UI-text",threedo.UI.call(this,t),!t.text)throw"A text UI object cannot be created without providing a text value";var e=null;Object.defineProperty(this,"text",{get:function(){return e},set:function(t){e=t,this.$.html("<span>"+e+"</span>")}}),this.text=t.text,this.$.prependTo("global"===this.context?threedo.scene.renderer.$container:this.context),this.type="UI.text"},threedo.UI.text.prototype=Object.create(threedo.UI.prototype),threedo.UI.text.prototype.constructor=threedo.UI.text}();
;
//# sourceMappingURL=threedo.min.js.map