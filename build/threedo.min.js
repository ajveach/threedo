
;!function(){var i={utility:{}};i.version="0.0.1",window.threedo=i}();
;!function(){var e={};Object.defineProperty(threedo,"spaces",{get:function(){return e}}),threedo.space=function(n){if("string"==typeof n){if(e[n])return e[n]}else if(n instanceof threedo.Space){var t=n;if(t instanceof threedo.Space)return e[t.name]=t,t}else if("object"==typeof n&&n.name){var r=n;return e[r.name]=new threedo.Space(r),e[r.name]}return null},threedo.space.add=function(e){return this(e)}}();
;!function(){var e=[],n=function(n){if("function"==typeof n){var t=e.push(n);return t}threedo.scene.width($(window).width()),threedo.scene.height($(window).height());for(var t=0;t<e.length;t+=1)e[t]()};threedo.onResize=n}();
;!function(){var e={},t=(new Date).getTime(),n=function(){var n=(new Date).getTime();threedo.update.deltaTime=n-t,t=n;for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&e[a]()};n.add=function(t,n){e[t]=n},n.remove=function(t){delete e[t]},n.deltaTime=0,threedo.update=n}();
;!function(){var e,n=function(n){n?(e?e.$e.show():e=threedo.UI.text({text:"Loading...","class":"threedo-UI-Loading",name:"loading"}),e.$e.children("span").css("line-height",threedo.scene.height()+"px")):e.$e.hide()};threedo.loading=n}();
;!function(){threedo.Model=function(){},threedo.Model.prototype={constructor:threedo.Model}}();
;!function(e){var n=0,t=0,r=45,a=null,i=.1,o=1e4,u=null,c=null,d=null,s=null,l=3355443,f=1,E=null,v={},m=function(){return s};m.$container=null,m.width=function(e){var e=e||!1;return e?(n=e,m.aspectRatio(n/t),u.setSize(n,t),void 0):n},m.height=function(e){var e=e||!1;return e?(t=e,m.aspectRatio(n/t),u.setSize(n,t),void 0):t},m.viewAngle=function(e){var e=e||!1;return e?void(r=e):r},m.aspectRatio=function(e){var e=e||!1;return e?(a=e,void(c&&(c.aspect=a,c.updateProjectionMatrix()))):a},m.near=function(e){var e=e||!1;return e?void(i=e):i},m.far=function(e){var e=e||!1;return e?void(o=e):o},m.backgroundColor=function(e){var e=e;return"number"!=typeof e?l:(l=e,void u.setClearColor(l,f))},m.backgroundAlpha=function(e){var e=e;return"number"!=typeof e?f:(f=e,void u.setClearColor(l,f))},m.skybox=function(e){if(!e)return E;if(E||(E={}),e){E.materials=[];for(var n=0;6>n;n+=1)E.materials.push(new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture(e[n]),side:THREE.BackSide}))}E.mesh||(E.mesh=new THREE.Mesh(new THREE.BoxGeometry(m.far(),m.far(),m.far()),new THREE.MeshFaceMaterial(E.materials)),d.add(E.mesh))},m.renderer=function(){return u},m.camera=function(){return c},m.camera.position=function(e,n,t){d.position.set(e,n,t)},m.find=function(e){return v[e]},m.add=function(e,n){if(!v[e])return v[e]=n,s.add(n),n;throw'An object already exists in this scene named "'+e+'"'},m.init=function(E){m.$container=$("#threedo"),n=m.$container.width(),t=m.$container.height(),m.aspectRatio(n/t),u=new THREE.WebGLRenderer,c=new THREE.PerspectiveCamera(r,a,i,o),s=new THREE.Scene,d=new THREE.Object3D,d.add(c),s.add(d),u.setSize(n,t),u.setClearColor(l,f),m.$container.append(u.domElement),e.utility.loader=new THREE.JSONLoader,$(window).resize(e.onResize),h(),E()};var h=function(){requestAnimationFrame(h),stats.begin(),e.update(),u.render(s,c),stats.end()};e.scene=m}(threedo);
;!function(){var t={text:{},select:{}},o=function(o,e){if(t[o]&&t[o][e])return t[o][e];if("object"==typeof o){var i=o;return t[i.type][i.name]=i,i}return!1};o.onResize=function(){$.each(t,function(t,o){$.each(o,function(t,o){o.position()})})},o.position=function(){console.log(this)},o.New=function(t,o){if("object"!=typeof o)return!1;if(!o.name)return!1;var e=o.position||{top:0,right:null,left:0,bottom:null};o.class=o.class||"";var i={name:o.name,type:t,"class":o.class};return i.position=function(){return"number"==typeof i.position.left?i.$e.css("left",i.position.left):"number"==typeof i.position.right&&i.$e.css("left",threedo.scene.width()-i.position.right),"number"==typeof i.position.top?i.$e.css("top",i.position.top):"number"==typeof i.position.bottom&&i.$e.css("top",threedo.scene.height()-i.position.bottom),i},i.position.left=e.left,i.position.right=e.right,i.position.top=e.top,i.position.bottom=e.bottom,i},threedo.UI=o,threedo.onResize(o.onResize)}();
;!function(){threedo.Node=function(e){if(threedo.Model.call(this),!e)throw"A valid name was not provided to create this node";this.type="Node";var t=e;Object.defineProperty(this,"name",{get:function(){return t},set:function(e){t=e}});var o=null;Object.defineProperty(this,"Space",{get:function(){return o},set:function(e){o=e}})},threedo.Node.prototype=Object.create(threedo.Model.prototype),threedo.Node.prototype.constructor=threedo.Node}();
;!function(){threedo.Space=function(e){threedo.Node.call(this,e.name);var t=this;this.type="Space";var o={};Object.defineProperty(this,"nodes",{get:function(){return o}});var n=function(){for(var e in o){var t=o[e];t instanceof threedo.Node&&"function"==typeof t.update&&t.update()}};threedo.update.add('threedo.space["'+this.name+'"].update',n),this.node=function(e){if("string"==typeof e){if(o[e])return o[e]}else{if(e instanceof threedo.Node){var n=e;return n.Space instanceof threedo.Space&&n.Space.node.remove(n),n.Space=t,o[n.name]=n,n}if("object"==typeof e){var r=e;if(r.type&&r.name){var n=null;return"function"==typeof r.type?n=new r.type(r):"string"===r.type&&"function"==typeof threedo[r.type]&&(n=new threedo[r.type](r)),n&&(n.Space instanceof threedo.Space&&n.Space.node.remove(n),n.Space=t,o[r.name]=n),n}}}return null},this.node.add=function(e){return this(e)},this.node.remove=function(e){o[e.name]&&delete o[e.name]}},threedo.Space.prototype=Object.create(threedo.Node.prototype),threedo.Space.prototype.constructor=threedo.Space}();
;!function(){threedo.Node3D=function(e){if(threedo.Node.call(this,e.name),!e.noObject3D){var t;Object.defineProperty(this,"Object3D",{get:function(){return t},set:function(e){t=e}})}this.type="Node3D"},threedo.Node3D.prototype=Object.create(threedo.Node.prototype),threedo.Node3D.constructor=threedo.Node3D}();
;!function(){threedo.Light=function(t){var t=t||{};t.noObject3D=!0,threedo.Node3D.call(this,t);var e=t.color||16777215,o=new THREE.PointLight(e);Object.defineProperty(this,"Light",{get:function(){return o}});var i=t.position||[0,0,0];o.position.x=i[0],o.position.y=i[1],o.position.z=i[2],threedo.scene.add(t.name,o),this.type="Light"},threedo.Light.prototype=Object.create(threedo.Node3D.prototype),threedo.Light.constructor=threedo.Light}();
;!function(){threedo.Mesh=function(t){var t=t||{};t.noObject3D=!0,threedo.Node3D.call(this,t);var e=null;Object.defineProperty(this,"Mesh",{get:function(){return e},set:function(o){e instanceof THREE.Mesh&&threedo.scene.remove(e),e=o,threedo.scene.add(t.name,e)}}),t.Mesh instanceof THREE.Mesh&&(this.Mesh=t.Mesh),t.rotation instanceof THREE.Euler&&(this.Mesh.rotation.x=t.rotation.x,this.Mesh.rotation.y=t.rotation.y,this.Mesh.rotation.z=t.rotation.z),t.position instanceof THREE.Vector3&&(this.Mesh.position.x=t.position.x,this.Mesh.position.y=t.position.y,this.Mesh.position.z=t.position.z),this.type="Mesh"},threedo.Mesh.prototype=Object.create(threedo.Node3D.prototype),threedo.Mesh.constructor=threedo.Mesh}();
;!function(){threedo.Cube=function(e){var e=e||{},t=e.scale||new THREE.Vector3(1,1,1),o=e.segments||[1,1,1],r=new THREE.BoxGeometry(t.x,t.y,t.z,o[0],o[1],o[2]),h=e.color||16777215,c=e.material||null;c||(c=new THREE.MeshLambertMaterial({color:h})),e.Mesh=new THREE.Mesh(r,c),threedo.Mesh.call(this,e),this.type="Cube"},threedo.Cube.prototype=Object.create(threedo.Mesh.prototype),threedo.Cube.constructor=threedo.Cube}();
;!function(){threedo.Sphere=function(e){var e=e||{},t=e.radius||1,r=e.segments||[8,6],h=e.phi||[0,2*Math.PI],o=e.theta||[0,Math.PI],a=new THREE.SphereGeometry(t,r[0],r[1],h[0],h[1],o[0],o[1]),p=e.color||16777215,s=e.material||null;s||(s=new THREE.MeshLambertMaterial({color:p})),e.Mesh=new THREE.Mesh(a,s),threedo.Mesh.call(this,e),this.type="Sphere"},threedo.Sphere.prototype=Object.create(threedo.Mesh.prototype),threedo.Sphere.constructor=threedo.Sphere}();
;
;!function(){var e=function(e){var o=threedo.UI.New("select",e);o.add=function(e,o,n){var t=$("<div />").addClass("option").attr("data-value",o).html(e).appendTo(this.$e.children(".options")),n=n||{};return t.on(n),this},o.expand=function(){o.$e.children(".options").show()},o.collapse=function(){o.$e.children(".options").hide()},e.options=e.options||[],o.$e=$("<div />").addClass("threedo-UI threedo-UI-select "+e.class).attr("data-name",e.name).prependTo(threedo.scene.$container),o.position();var n=$("<div />").addClass("label").html(e.text).appendTo(o.$e);$("<div />").addClass("arrow-down").prependTo(n),$("<div />").addClass("options").appendTo(o.$e);for(var t=0;t<e.options.length;t+=1)o.$e.children(".options").append("<div class='option' data-value='"+e.options[t].value+"'>"+e.options[t].name+"</div>");return o.$e.children(".label").click(function(){o.$e.children(".options").toggle()}),o.$e.hover(function(){o.$e.addClass("hover")},function(){o.collapse(),o.$e.removeClass("hover")}),threedo.UI(o),o};threedo.UI.select=e}();
;!function(){var e=function(e){var t=threedo.UI.New("text",e);return e.text?(t.$e=$("<div />").addClass("threedo-UI threedo-UI-text "+e.class).html("<span>"+e.text+"</span>").attr("data-name",e.name).prependTo(threedo.scene.$container),t.position(),threedo.UI(t),t):console.log('A "text" option must be provided for a text UI element')};threedo.UI.text=e}();
//# sourceMappingURL=threedo.min.js.map